<div
    map-lazy-load="https://maps.google.com/maps/api/js"
    map-lazy-load-params="{{vm.googleMapsUrl}}"
>
    <ng-map
        center="41,-87"
        zoom="4"
        default-style="false"
        class="ngel-map-container"
    >
        <marker
            ng-repeat="station in vm.stations.stationsWithIcon"
            position="{{station.latitude}},{{station.longitude}}"
            icon="{{station.icon}}"
            on-click="vm.openSiteInfo(station)"
        ></marker>
    </ng-map>
    <ngel-site-info drawer-name="show-site-info"></ngel-site-info>
    <ngel-date-picker-panel
        refresh="vm.refreshMap()"
        selected-date="vm.selectedDate"
        max-date="{{vm.stations.maxOccurred}}"
        min-date="{{vm.stations.minOccurred}}"
    ></ngel-date-picker-panel>
    <ngel-color-scale></ngel-color-scale>
</div>
